<form [formGroup]="mainForm">

  <h2 class="text-2xl font-bold mb-4">Selecciona los servicios:</h2>

  <div>
    <input type="checkbox" id="seo" formControlName="seo">
    <label for="seo">Hacer una campaña SEO (300 €)</label>
  </div>

  <div>
    <input type="checkbox" id="ads" formControlName="ads">
    <label for="ads">Hacer una campaña de publicidad (400 €)</label>
  </div>

  <div>
    <input type="checkbox" id="web" formControlName="web">
    <label for="web">Hacer una página web (500 €)</label>
  </div>

  <hr class="my-6">

  @if (mainForm.controls.web.value) {
    <div [formGroup]="panelForm" class="panel-ajuste">

      <h3 class="text-xl font-semibold mb-4">Ajuste de la Página Web:</h3>

      <div class="flex items-center space-x-4 mb-4">
          <label for="numPages">Número de páginas:</label>

          <button type="button"
                  (click)="updatePanelValue('numPages', -1)"
                  [disabled]="(panelForm.get('numPages')!.value ?? 0) <= 1"
                  class="w-8 h-8 rounded-full bg-indigo-500 text-white hover:bg-indigo-600 disabled:opacity-50 transition">
              –
          </button>

          <input type="number" formControlName="numPages" readonly class="w-16 text-center border border-gray-300 rounded-md p-1 font-semibold">

          <button type="button"
                  (click)="updatePanelValue('numPages', 1)"
                  class="w-8 h-8 rounded-full bg-indigo-500 text-white hover:bg-indigo-600">
              +
          </button>
      </div>

      <div class="flex items-center space-x-4">
          <label for="numLanguages">Número de idiomas:</label>

          <button type="button"
                  (click)="updatePanelValue('numLanguages', -1)"
                  [disabled]="(panelForm.get('numLanguages')!.value ?? 0) <= 1"
                  class="w-8 h-8 rounded-full bg-indigo-500 text-white hover:bg-indigo-600 disabled:opacity-50 transition">
              –
          </button>

          <input type="number" formControlName="numLanguages" readonly class="w-16 text-center border border-gray-300 rounded-md p-1 font-semibold">

          <button type="button"
                  (click)="updatePanelValue('numLanguages', 1)"
                  class="w-8 h-8 rounded-full bg-indigo-500 text-white hover:bg-indigo-600">
              +
          </button>
      </div>
  </div>
  }
</form>




<div class="mt-8 p-4 bg-gray-100 font-bold text-lg">
PRECIO TOTAL:
<span>{{ budgetService.totalPrice() | number:'1.2-2' }} €</span>
</div>
